<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<table id="tb">
			<tr>
				<th><input type="checkbox" id="chkall" onclick="checkall()"/>编号</th>
				<th>书名</th>
				<th>单价</th>
			</tr>
		</table>
		<script>
			const books = [
				{'id':1001,'name':'C','price':10},
				{'id':1002,'name':'Java','price':20},
				{'id':1003,'name':'JavaScript','price':30},
				{'id':1004,'name':'C++','price':40}
			];
			const table = document.querySelector('#tb');
			var html='';
			for (let s of books) {
				html += `
					<tr>
						<td><input type="checkbox" tag="chks"/><a href=''>${s.id}</a></td>
						<td>${s.name}</td>
						<td>￥${s.price}</td>
					</tr>
				`;
			}
			table.innerHTML += html;
			document.write(table.innerText)
		</script>
		<script>
			function checkall(){
			const chkall = document.querySelector('#chkall');
			const chks = document.querySelectorAll('#tb input[tag="chks"]');
			for (let s of chks) {
				s.checked = chkall.checked;
				console.log(s.checked);
			}
			}
			
		</script>
	</body>
</html>